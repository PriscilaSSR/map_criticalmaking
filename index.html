<!DOCTYPE html>
<html>
<head>
    <title>AI Intelligence Dossier</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; background: #080808; font-family: 'Inter', sans-serif; color: #e0e0e0; }
        #map { height: 100vh; width: 100vw; }
        
        /* Modern Glass UI */
        .leaflet-popup-content-wrapper { 
            background: rgba(15, 15, 15, 0.95); color: white; border: 1px solid #00f2ff;
            backdrop-filter: blur(10px); border-radius: 12px; width: 320px;
        }

        .company-card { margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .company-name { font-weight: 800; color: #00f2ff; font-size: 16px; }
        .tag { font-size: 10px; background: #222; padding: 2px 6px; border-radius: 4px; margin-right: 4px; }
        
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 8px; font-size: 11px; }
        .stat-val { color: #fff; font-weight: bold; }
        
        .source-link { font-size: 9px; color: #666; text-decoration: none; display: block; margin-top: 5px; }
        .source-link:hover { color: #00f2ff; }
    </style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    var map = L.map('map', { zoomControl: false }).setView([30, 10], 3);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);

    // DEEP DATA OBJECT
    const cityData = [
        {
            city: "Silicon Valley",
            coords: [37.38, -122.08],
            color: "#00f2ff",
            companies: [
                {
                    name: "OpenAI",
                    investment: "$13B+",
                    arena: "1280 (GPT-4o)",
                    compute: "Microsoft Azure Clusters",
                    gov: "USAF Data Analysis",
                    source: "https://openai.com/news"
                },
                {
                    name: "Anthropic",
                    investment: "$8B+",
                    arena: "1271 (Claude 3.5)",
                    compute: "AWS Trainium/Inferentia",
                    gov: "NIST Safety Tests",
                    source: "https://www.crunchbase.com"
                }
            ]
        },
        {
            city: "Beijing",
            coords: [39.90, 116.40],
            color: "#ff3e3e",
            companies: [
                {
                    name: "Baidu (Ernie)",
                    investment: "Internal/Public",
                    arena: "1150+ (Ernie 4.0)",
                    compute: "Kunlun AI Chips",
                    gov: "Municipal Smart City",
                    source: "https://ir.baidu.com"
                },
                {
                    name: "Zhipu AI",
                    investment: "$2.5B (Alibaba/Tencent)",
                    arena: "1200+ (GLM-4)",
                    compute: "State Grid Clusters",
                    gov: "Tsinghua Research",
                    source: "https://www.reuters.com"
                }
            ]
        }
    ];

    cityData.forEach(city => {
        let popupHtml = `<h3 style="margin:0 0 10px 0">${city.city} Dossier</h3>`;
        
        city.companies.forEach(co => {
            popupHtml += `
                <div class="company-card">
                    <div class="company-name">${co.name}</div>
                    <div class="stat-grid">
                        <div>Funding: <span class="stat-val">${co.investment}</span></div>
                        <div>Arena: <span class="stat-val">${co.arena}</span></div>
                        <div>Compute: <span class="stat-val">${co.compute}</span></div>
                        <div>Gov: <span class="stat-val">${co.gov}</span></div>
                    </div>
                    <a href="${co.source}" target="_blank" class="source-link">ðŸ”— View Verification Source</a>
                </div>`;
        });

        L.circleMarker(city.coords, {
            radius: 15, fillColor: city.color, color: city.color, weight: 2, fillOpacity: 0.3
        }).addTo(map).bindPopup(popupHtml);
    });

</script>
</body>
</html>
