<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AI Tech Hubs: USA vs China</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; background-color: #0b0b0b; }
        
        .map-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            color: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
            max-width: 300px;
            z-index: 1;
        }

        h2 { margin: 0 0 10px; font-weight: 300; letter-spacing: 1px; }
        .legend-item { display: flex; align-items: center; margin-bottom: 5px; font-size: 12px; }
        .dot { height: 10px; width: 10px; border-radius: 50%; margin-right: 10px; }
    </style>
</head>
<body>

<div class="map-overlay">
    <h2>AI Power Index</h2>
    <p style="font-size: 13px; color: #ccc;">Visualizing major AI clusters in the USA and China.</p>
    <div class="legend-item"><span class="dot" style="background: #00f2ff; box-shadow: 0 0 10px #00f2ff;"></span> USA Hubs</div>
    <div class="legend-item"><span class="dot" style="background: #ff3e3e; box-shadow: 0 0 10px #ff3e3e;"></span> China Hubs</div>
</div>

<div id="map"></div>

<script>
    // Replace this with your own Mapbox Access Token from mapbox.com
    mapboxgl.accessToken = 'pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDg1Z3IifQ.2b5ZQC95_9O_7BRmY7mY5Q';
    
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/dark-v11', // High-end dark theme
        center: [20, 30], // Centered between both regions
        zoom: 1.8,
        projection: 'globe' // Makes the map a 3D globe!
    });

    map.on('style.load', () => {
        map.setFog({
            color: 'rgb(10, 10, 10)', // Lower atmosphere
            'high-color': 'rgb(30, 30, 30)', // Upper atmosphere
            'horizon-blend': 0.02
        });
    });

    const geoData = {
        "type": "FeatureCollection",
        "features": [
            { "type": "Feature", "properties": { "country": "USA", "name": "Silicon Valley" }, "geometry": { "type": "Point", "coordinates": [-122.08, 37.38] } },
            { "type": "Feature", "properties": { "country": "USA", "name": "Seattle" }, "geometry": { "type": "Point", "coordinates": [-122.33, 47.60] } },
            { "type": "Feature", "properties": { "country": "China", "name": "Beijing" }, "geometry": { "type": "Point", "coordinates": [116.40, 39.90] } },
            { "type": "Feature", "properties": { "country": "China", "name": "Shenzhen" }, "geometry": { "type": "Point", "coordinates": [114.05, 22.54] } }
        ]
    };

    map.on('load', () => {
        map.addSource('ai-hubs', { type: 'geojson', data: geoData });

        // Add a "Glow" layer
        map.addLayer({
            'id': 'ai-glow',
            'type': 'circle',
            'source': 'ai-hubs',
            'paint': {
                'circle-radius': 12,
                'circle-blur': 1.5,
                'circle-color': [
                    'match', ['get', 'country'],
                    'USA', '#00f2ff',
                    'China', '#ff3e3e',
                    '#ffffff'
                ]
            }
        });

        // Add the core point
        map.addLayer({
            'id': 'ai-points',
            'type': 'circle',
            'source': 'ai-hubs',
            'paint': {
                'circle-radius': 5,
                'circle-color': 'white',
                'circle-stroke-width': 2,
                'circle-stroke-color': [
                    'match', ['get', 'country'],
                    'USA', '#00f2ff',
                    'China', '#ff3e3e',
                    '#ffffff'
                ]
            }
        });
    });
</script>

</body>
</html>
